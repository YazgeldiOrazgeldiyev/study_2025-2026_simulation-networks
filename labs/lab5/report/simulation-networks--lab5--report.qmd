---
## Author
author:
  name: Оразгелдиев Язгелди
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032225075@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация

## Title
title: "Отчет по лабораторной работе №5"
subtitle: "Моделирование сетей передачи данных"
license: "CC BY"
---

# Цель работы

Основной целью работы является получение навыков проведения интерактивных экспериментов в среде Mininet по исследованию параметров сети, связанных с потерей, дублированием, изменением порядка и повреждением пакетов при передаче данных. Эти параметры влияют на производительность протоколов и сетей.

# Задание

1. Задайте простейшую топологию, состоящую из двух хостов и коммутатора с назначенной по умолчанию mininet сетью 10.0.0.0/8.

2. Проведите интерактивные эксперименты по по исследованию параметров сети, связанных с потерей, дублированием, изменением порядка и повреждением пакетов при передаче данных.

3. Реализуйте воспроизводимый эксперимент по добавлению правила отбрасывания пакетов в эмулируемой глобальной сети. На экран выведите сводную информацию о потерянных пакетах. 

4. Самостоятельно реализуйте воспроизводимые эксперименты по исследованию параметров сети, связанных с потерей, изменением порядка и повреждением пакетов при передаче данных. На экран выведите сводную информацию о потерянных пакетах.

# Выполнение лабораторной работы

Запустил виртуальную среду с mininet. Из основной ОС подключился к виртуальной машине и исправил права запуска X-соединения. Скопировал значение куки своего пользователя mininet в файл для пользователя root. 

![*Изменение прав запуска X-соединения. *](image/1.jpg){#fig:001 width=70%}

2. Задал простейшую топологию, состоящую из двух хостов и коммутатора с назначенной по умолчанию mininet сетью 10.0.0.0/8.

![*Создание топологии*](image/2.jpg){#fig:002 width=70%}

3. На хостах h1 и h2 ввел команду ifconfig, чтобы отобразить информацию, относящуюся к их сетевым интерфейсам и назначенным им IP-адресам.

![*Команда ifconfig на хосте h1*](image/3.jpg){#fig:003 width=70%}

![*Команда ifconfig на хосте h2*](image/4.jpg){#fig:004 width=70%}

4. Проверил подключение между хостами h1 и h2 с помощью команды ping с параметром -c 6.

![*Пингование*](image/5.jpg){#fig:005 width=70%}

5. На хосте h1 добавил 10% потерь пакетов к интерфейсу h1-eth0.

![*Добавление процента потерь*](image/6.jpg){#fig:006 width=70%}

6. Проверил, что на соединении от хоста h1 к хосту h2 имеются потери пакетов, используя команду ping с параметром -c 100 с хоста h1.

![*Пингование*](image/7.jpg){#fig:007 width=70%}

![*Пингование*](image/8.jpg){#fig:008 width=70%}

7. Для эмуляции глобальной сети с потерей пакетов в обоих направлениях к соответствующему интерфейсу на хосте h2 также добавил 10% потерь пакетов.

![*Добавление процента потерь*](image/9.jpg){#fig:009 width=70%}

8. Проверил, что соединение между хостом h1 и хостом h2 имеет больший процент потерянных данных

![*Пингование*](image/10.jpg){#fig:010 width=70%}

![*Пингование*](image/11.jpg){#fig:011 width=70%}

9. Восстановил конфигурацию по умолчанию, удалив все правила, применённые к сетевому планировщику соответствующего интерфейса. Для отправителя h1 и для получателя h2.

![*Восстановление конфигурации*](image/12.jpg){#fig:012 width=70%}

10. Убедился, что соединение от хоста h1 к хосту h2 не имеет явной потери пакетов, запустив команду ping с терминала хоста h1.

![*Пингование*](image/13.jpg){#fig:013 width=70%}

11. Добавил на интерфейсе узла h1 коэффициент потери пакетов 50%, и каждая последующая вероятность зависит на 50% от последней.

![*Добавление коэффициента потерь с корреляцией*](image/14.jpg){#fig:014 width=70%}

12. Проверила, что на соединении от хоста h1 к хосту h2 имеются потери пакетов, используя команду ping с параметром -c 50 с хоста h1. Процент потерянных пакетов после завершения передачи: 50%. Восстановил для узла h1 конфигурацию по умолчанию, удалив все правила, применённые к сетевому планировщику соответствующего интерфейса.

![*Пингование*](image/15.jpg){#fig:015 width=70%}

13. Добавила на интерфейсе узла h1 0,01% повреждения пакетов.

![*Добавление повреждения*](image/16.jpg){#fig:016 width=70%}

14. Проверил конфигурацию с помощью инструмента iPerf3 для проверки повторных передач. Для этого запустила iPerf3 в режиме сервера в терминале хоста h2.

![*Запуск сервера*](image/17.jpg){#fig:017 width=70%}

15. Запустил iPerf3 в клиентском режиме в терминале хоста h1.

![*Запуск клента*](image/18.jpg){#fig:018 width=70%}

16. Восстановил для узла h1 конфигурацию по умолчанию, удалив все правила, применённые к сетевому планировщику соответствующего интерфейса.

17. Добавил на интерфейсе узла h1 следующее правило. Здесь 25% пакетов (со значением корреляции 50%) будут отправлены немедленно, а остальные 75% будут задержаны на 10 мс.

![*Добавление переупорядочивания пакетов*](image/19.jpg){#fig:019 width=70%}

18. Проверил, что на соединении от хоста h1 к хосту h2 имеются потери пакетов, используя команду ping с параметром -c 20 с хоста h1. Отсутствующих из-за потери пакетов номеров последовательности нет. Процент потерянных пакетов после завершения передачи: 0%. Восстановил конфигурацию интерфейса по умолчанию на узле h1.

![*Пингование*](image/20.jpg){#fig:020 width=70%}

19. Для интерфейса узла h1 задала правило c дублированием 50% пакетов (т.е. 50% пакетов должны быть получены дважды).

![*Добавление дублирования*](image/21.jpg){#fig:021 width=70%}

20. Проверил, что на соединении от хоста h1 к хосту h2 имеются дублированные пакеты, используя команду ping с параметром -c 20 с хоста h1. Восстановил конфигурацию интерфейса по умолчанию на узле h1.

![*Пингование*](image/22.jpg){#fig:022 width=70%}

21. Для каждого воспроизводимого эксперимента expname создал свой каталог, в котором будут размещаться файлы эксперимента.

![*Создание каталога*](image/23.jpg){#fig:023 width=70%}

22. В виртуальной среде mininet в своём рабочем каталоге с проектами создал каталог simple-drop и перешла в него. 

![*Создание подкаталога*](image/24.jpg){#fig:024 width=70%}

23. Создал скрипт для эксперимента lab_netem_ii.py.

![*Скрипт lab_netem_ii.py*](image/25.jpg){#fig:025 width=70%}

24. Скорректировал скрипт так, чтобы в отдельный файл выводилась информация о потерях пакетов.

![*Изменение в скрипте lab_netem_ii.py*](image/26.jpg){#fig:026 width=70%}

25. Создал Makefile для управления процессом проведения эксперимента.

![*Создание Makefile*](image/27.jpg){#fig:027 width=70%}

26. Выполнил эксперимент.

![*Выполнение эксперимента*](image/28.jpg){#fig:028 width=70%}

27. Самостоятельно реализовал воспроизводимые эксперименты по исследованию параметров сети, связанных с потерей пакетов и добавление значения корреляции для потери пакетов.

![*Добавление коэффициента потерь с корреляцией*](image/29.jpg){#fig:029 width=70%}

![*Выполнение эксперимента*](image/30.jpg){#fig:030 width=70%}

28. Самостоятельно реализовал воспроизводимые эксперименты по исследованию параметров сети, связанных добавлением повреждения пакетов.

![*Добавление повреждения*](image/31.jpg){#fig:031 width=70%}

![*Выполнение эксперимента*](image/32.jpg){#fig:032 width=70%}

29. Самостоятельно реализовал воспроизводимые эксперименты по исследованию параметров сети, связанных добавлением переупорядочивания пакетов.

![*Добавление переупорядочивания пакетов*](image/33.jpg){#fig:033 width=70%}

![*Выполнение эксперимента*](image/34.jpg){#fig:034 width=70%}

30. Самостоятельно реализовал воспроизводимые эксперименты по исследованию параметров сети, связанных добавлением дублирования пакетов.

![*Добавление дублирования*](image/35.jpg){#fig:035 width=70%}

![*Выполнение эксперимента*](image/36.jpg){#fig:036 width=70%}


# Выводы

Я получил навыки проведения интерактивных экспериментов в среде Mininet по исследованию параметров сети, связанных с потерей, дублированием, изменением порядка и повреждением пакетов при передаче данных. 

